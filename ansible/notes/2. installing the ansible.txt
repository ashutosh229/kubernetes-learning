make a ec2 instance 
make it the master node 
install the ansible on it 
after installing, we can check the version using --version

open and edit the default hosts file using sudo vim /etc/ansible/hosts
group of servers in the hosts file is delimited by [header] where header is the name of the group
while configuring the host file, we can either enter the server name or the ip address of the server 
a server/ip can be the member of multiple server groups 

writing the host file:
[servers]
server_1 ansible_host=18.209.11.13
server_2 ansible_host=12.78.80.91
server_3 ansible_host=15.45.115.89

in order to connect the master machine with the slaves, we need the key-pair which we have created 
but the key pair is present on our local system 
we need to transfer the key pair .pem file from the local system to the master machine 
we will transfer it using the scp -i "file_path on local system" destination_file_on_master ubuntu@ec2-54-152-198-35.compute-1.amazonaws.com: /home/ubuntu/keys
now the master machine have the keys needed for the connection

we will have to assign the variables to the slaves via which we can detect the private key because we need to connect from master to slave
we dont need to install ansible on the slaves but we need to install python because python is needed to work with ansible 
we also need to initialize the name of the user for all the machines of slaves
we can like this initialize many variables to each of the servers 
we write all these variables in the host file itself for all the servers just like we wrote the ansible_host variable
there are two ways of writing the variables to the servers
1. either write the variables separately for each server as we did for the ansible_host variable 
2. make a variable group
[servers:vars]
ansible_python_interpreter = /usr/bin/python3
ansible_user = ubuntu
ansible_ssh_private_key_file = /home/ubuntu/keys/ansible-master-key-demo.pem

now since the host file is ready, we need to connect to the servers from the master machine and for doing so, we will be using the ping command from ansible 
ansible servers -m ping is the module command for pinging the machines in the group "servers"

now the servers are pinged, we can on the master machine, executes the commands on the slave machines
ansible servers -a "free -h" is an ad hoc command which is used to execute the command "free -h" on all the hosts of the group "servers"

ansible servers -a "sudo apt update"

ansible-inventory --list : this command lists down all the inventory which we have with us for the master machine 




















